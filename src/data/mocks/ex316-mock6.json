
{
  "examId": "ex316-6",
  "title": "OpenShift Virtualization Specialist (EX316) â€” Mock 6: Full Spectrum Exam VI",
  "description": "A final, comprehensive 13-task exam focusing on troubleshooting, advanced features, and complex multi-step scenarios.",
  "timeLimit": "4 hours",
  "tasks": [
    {
      "id": "task01",
      "title": "Troubleshoot and fix a VM failing to start",
      "sections": [
        {
          "title": "Debugging a CrashLoopBackOff",
          "notice": "In a new namespace 'troubleshooting', a VM is failing to start. Diagnose and fix the issue.",
          "subtasks": [
            "Create the 'troubleshooting' namespace.",
            "A VM named 'failing-vm' has been pre-defined to reference a non-existent secret. Deploy it.",
            "Observe the virt-launcher pod enters a 'CrashLoopBackOff' state.",
            "Examine the pod logs to identify the error related to the missing secret.",
            "Create the required secret named 'vm-secret'.",
            "Verify the VM now starts correctly."
          ]
        }
      ]
    },
    {
      "id": "task02",
      "title": "Access a VM with a broken network using the serial console",
      "sections": [
        {
          "title": "Serial Console Recovery",
          "notice": "The network on 'failing-vm' has been misconfigured from inside the guest. Regain access and fix it.",
          "subtasks": [
            "Use 'virtctl console failing-vm' to access the serial console.",
            "Log in and correct the network configuration files within the guest OS.",
            "Reboot the VM and confirm network connectivity is restored."
          ]
        }
      ]
    },
    {
      "id": "task03",
      "title": "Configure a high-performance VM with SR-IOV and dedicated CPUs",
      "sections": [
        {
          "title": "SR-IOV and CPU Pinning",
          "notice": "In a new namespace 'hpc-apps', deploy a VM requiring maximum network and CPU performance.",
          "subtasks": [
            "Create the 'hpc-apps' namespace.",
            "Ensure an SR-IOV network is available.",
            "Deploy a VM named 'hpc-vm' attached to the SR-IOV network.",
            "Configure the VM with dedicated CPU resources and guaranteed QoS.",
            "Attach a 50Gi block-mode PVC for high-speed data access."
          ]
        }
      ]
    },
    {
      "id": "task04",
      "title": "Configure a custom Route and RBAC for the HPC application",
      "sections": [
        {
          "title": "Service, Route, and User Management",
          "notice": "Expose the HPC application and create a limited-access user. Perform actions in the 'hpc-apps' namespace.",
          "subtasks": [
            "Create a ClusterIP service for 'hpc-vm'.",
            "Create a Route with a custom path of '/hpc/data' that points to the service.",
            "Create a user 'hpc-user' who has view-only access to all resources in the 'hpc-apps' namespace."
          ]
        }
      ]
    },
    {
      "id": "task05",
      "title": "Troubleshoot a failing live migration",
      "sections": [
        {
          "title": "Debugging Migration",
          "notice": "The 'hpc-vm' cannot be live migrated. Find out why and fix it.",
          "subtasks": [
            "Attempt to live migrate 'hpc-vm'. Observe that it fails.",
            "Examine the logs and events to determine the cause (e.g., SR-IOV interfaces are not migratable by default).",
            "Temporarily remove the SR-IOV interface from the VM definition.",
            "Successfully perform the live migration."
          ]
        }
      ]
    },
    {
      "id": "task06",
      "title": "Backup and Restore the HPC VM to a different StorageClass",
      "sections": [
        {
          "title": "OADP Storage Tier Migration",
          "notice": "Move the 'hpc-vm' from a fast StorageClass to a slower, cheaper one for archival.",
          "subtasks": [
            "Backup the 'hpc-vm' using OADP.",
            "Delete the original VM and its PVCs.",
            "Restore the VM from backup, using 'storageClassMapping' to change the destination StorageClass.",
            "Verify the restored VM is running on storage from the new, slower StorageClass."
          ]
        }
      ]
    },
    {
      "id": "task07",
      "title": "Create a VM from a container disk image",
      "sections": [
        {
          "title": "ContainerDisk VM",
          "notice": "Deploy a lightweight VM whose OS is stored in a container image. Perform actions in a new 'container-vms' namespace.",
          "subtasks": [
            "Create the 'container-vms' namespace.",
            "Find a suitable container disk image.",
            "Create a VM named 'container-vm' that uses the container disk as its root volume."
          ]
        }
      ]
    },
    {
      "id": "task08",
      "title": "Upload a local image file to a PVC",
      "sections": [
        {
          "title": "Virtctl Image Upload",
          "notice": "Upload a local file 'special.img' to a PVC in the 'container-vms' namespace.",
          "subtasks": [
            "Create a new 10Gi PVC named 'upload-pvc'.",
            "Use 'virtctl image-upload' to upload the local 'special.img' file to the PVC.",
            "Attach the populated PVC as a secondary disk to the 'container-vm'."
          ]
        }
      ]
    },
    {
      "id": "task09",
      "title": "Change the default boot order of a VM",
      "sections": [
        {
          "title": "PXE Boot Simulation",
          "notice": "Configure a VM to boot from its network interface first. Perform actions in the 'container-vms' namespace.",
          "subtasks": [
            "Edit the 'container-vm'.",
            "Set the boot order for its primary network interface to 1.",
            "Set the boot order for its disk to 2.",
            "Start the VM and observe from the console that it attempts to PXE boot."
          ]
        }
      ]
    },
    {
      "id": "task10",
      "title": "Perform an offline snapshot and clone from it",
      "sections": [
        {
          "title": "Snapshot and Clone",
          "notice": "Create a new VM from a snapshot of 'container-vm'. Perform actions in the 'container-vms' namespace.",
          "subtasks": [
            "Shut down the 'container-vm'.",
            "Create a snapshot of the VM.",
            "Create a new VM named 'clone-from-snap' whose source is the created snapshot.",
            "Verify the new VM starts correctly."
          ]
        }
      ]
    },
    {
      "id": "task11",
      "title": "Install a package from a custom repo",
      "sections": [
        {
          "title": "System Administration",
          "notice": "Install a tool on 'clone-from-snap'. To do this, first configure a custom repository inside the VM. Create a repo file '/etc/yum.repos.d/local.repo' with content: [local]\nname=Local Tools\nbaseurl=http://repo.example.com/local_tools\nenabled=1\ngpgcheck=0. Perform actions in the 'container-vms' namespace.",
          "subtasks": [
            "Log into 'clone-from-snap'.",
            "Install the 'sys-admin-tool' package using the provided repository details."
          ]
        }
      ]
    },
    {
      "id": "task12",
      "title": "Forcefully delete a stuck VM",
      "sections": [
        {
          "title": "Force Deletion",
          "notice": "A VM is stuck in a terminating state. Forcefully remove it.",
          "subtasks": [
            "Create a temporary VM and then try to delete it while it is still starting up to simulate a stuck state.",
            "When it fails to delete, use 'virtctl stop' with the '--force' option and a grace period of 0.",
            "Verify the VM and its pod are removed."
          ]
        }
      ]
    }
  ]
}
