{
  "examId": "ex316-1",
  "title": "OpenShift Virtualization Specialist (EX316) â€” Mock 1: Full Spectrum Exam I",
  "description": "A comprehensive 14-task exam covering a wide range of objectives including deployment, networking, storage, and VM lifecycle management.",
  "timeLimit": "4 hours",
  "tasks": [
    {
      "id": "task01",
      "title": "Deploy a database server with a custom repository",
      "sections": [
        {
          "title": "Namespace and VM Provisioning",
          "notice": "Perform all actions for this task in a new namespace named 'db-app-ns'. To install packages inside the VM, you must first configure a custom repository. Create a file at '/etc/yum.repos.d/custom.repo' with the following content: [custom-db]\nname=Custom DB Repo\nbaseurl=http://repo.example.com/db_packages\nenabled=1\ngpgcheck=0",
          "subtasks": [
            "Create a new namespace named 'db-app-ns'.",
            "Provision a new VM named 'db-server' from the RHEL9 template.",
            "Inside the guest OS, install the 'mariadb-server' package using the provided repository details.",
            "Enable and start the 'mariadb' service."
          ]
        }
      ]
    },
    {
      "id": "task02",
      "title": "Configure dedicated storage for the database",
      "sections": [
        {
          "title": "Disk and Volume Management",
          "notice": "Attach a new block volume for database data. Perform actions in the 'db-app-ns' namespace.",
          "subtasks": [
            "Create a 20Gi PVC named 'db-data-disk' with a 'volumeMode' of 'Block'.",
            "Attach the PVC to the 'db-server' VM as a data volume.",
            "Verify inside the guest OS that a new raw block device is available."
          ]
        }
      ]
    },
    {
      "id": "task03",
      "title": "Expose the database and configure RBAC",
      "sections": [
        {
          "title": "Service and User Management",
          "notice": "Make the database accessible and create a read-only user. Perform actions in the 'db-app-ns' namespace.",
          "subtasks": [
            "Create a ClusterIP service named 'db-svc' exposing port 3306 for the 'db-server' VM.",
            "Create a new user named 'db-auditor'.",
            "Create a Role that only allows 'get' and 'list' access to VirtualMachine resources.",
            "Bind this Role to the 'db-auditor' user in the 'db-app-ns' namespace."
          ]
        }
      ]
    },
    {
      "id": "task04",
      "title": "Deploy a web server from a custom template",
      "sections": [
        {
          "title": "Template and VM Deployment",
          "notice": "First, create a custom template. Then, deploy a web server from it in a new 'web-app-ns' namespace.",
          "subtasks": [
            "Create a new namespace named 'web-app-ns'.",
            "Create a new VM template named 'httpd-template' that uses a RHEL9 image and runs a command via cloud-init to install the 'httpd' package.",
            "Deploy a new VM named 'web-server' in 'web-app-ns' from the 'httpd-template'."
          ]
        }
      ]
    },
    {
      "id": "task05",
      "title": "Configure networking between web and database servers",
      "sections": [
        {
          "title": "NetworkPolicy Configuration",
          "notice": "Allow the web server to connect to the database.",
          "subtasks": [
            "Create a NetworkPolicy in the 'db-app-ns' namespace.",
            "The policy must allow ingress traffic on port 3306 to the 'db-server' VM only from pods within the 'web-app-ns' namespace."
          ]
        }
      ]
    },
    {
      "id": "task06",
      "title": "Backup the web server using OADP",
      "sections": [
        {
          "title": "OADP Backup",
          "notice": "Perform a backup of the 'web-server' VM. Perform actions in the 'web-app-ns' namespace.",
          "subtasks": [
            "Ensure the OADP operator is functional.",
            "Create a 'Backup' resource that targets the 'web-server' VM.",
            "Verify the backup operation completes successfully."
          ]
        }
      ]
    },
    {
      "id": "task07",
      "title": "Perform a live migration of the database server",
      "sections": [
        {
          "title": "Live Migration",
          "notice": "The node hosting 'db-server' needs maintenance. Migrate the VM without downtime.",
          "subtasks": [
            "Initiate a live migration for the 'db-server' VM.",
            "Monitor the migration process to ensure it completes successfully."
          ]
        }
      ]
    },
    {
      "id": "task08",
      "title": "Clone the web server for staging",
      "sections": [
        {
          "title": "VM Cloning",
          "notice": "Create a clone of 'web-server' named 'web-server-staging'. Perform actions in the 'web-app-ns' namespace.",
          "subtasks": [
            "Create a clone of the 'web-server' VM.",
            "Name the new VM 'web-server-staging'.",
            "Verify the new VM starts successfully."
          ]
        }
      ]
    },
    {
      "id": "task09",
      "title": "Configure a health probe for the web server",
      "sections": [
        {
          "title": "Readiness Probe",
          "notice": "Ensure 'web-server' only receives traffic when httpd is responsive. Perform actions in the 'web-app-ns' namespace.",
          "subtasks": [
            "Edit the 'web-server' VirtualMachine resource.",
            "Add a readiness probe that performs an HTTP GET request on port 80."
          ]
        }
      ]
    },
    {
      "id": "task10",
      "title": "Create and restore a snapshot of the database server",
      "sections": [
        {
          "title": "Snapshot and Restore",
          "notice": "Perform a snapshot and restore cycle on the 'db-server' VM. Perform actions in the 'db-app-ns' namespace.",
          "subtasks": [
            "Create a snapshot of the 'db-server' VM.",
            "After completion, restore the VM from the snapshot."
          ]
        }
      ]
    },
    {
      "id": "task11",
      "title": "Configure a multi-homed VM",
      "sections": [
        {
          "title": "Multus Networking",
          "notice": "Create a new VM that is connected to two different networks. Perform actions in a new 'multi-net-ns' namespace.",
          "subtasks": [
            "Create a new namespace named 'multi-net-ns'.",
            "Create a NetworkAttachmentDefinition named 'internal-net' for a bridge network.",
            "Deploy a new VM named 'router-vm' attached to both the default pod network and the 'internal-net'."
          ]
        }
      ]
    },
    {
      "id": "task12",
      "title": "Prepare a node for maintenance",
      "sections": [
        {
          "title": "Node Drain",
          "notice": "A worker node needs to be updated. Safely drain it of all VMs.",
          "subtasks": [
            "Select a worker node running at least one VM.",
            "Use 'oc adm drain' to gracefully evict all VMs from the node.",
            "Verify the VMs are migrated and the node is marked as unschedulable."
          ]
        }
      ]
    },
    {
      "id": "task13",
      "title": "Expose the staging web server with a Route",
      "sections": [
        {
          "title": "Route Configuration",
          "notice": "Expose the 'web-server-staging' VM externally. Perform actions in the 'web-app-ns' namespace.",
          "subtasks": [
            "Create a ClusterIP service for 'web-server-staging'.",
            "Create a Route that exposes the service, allowing OpenShift to generate the hostname."
          ]
        }
      ]
    },
    {
      "id": "task14",
      "title": "Detach a disk from a VM",
      "sections": [
        {
          "title": "Disk Management",
          "notice": "The 'web-server-staging' has a disk that is no longer needed. Detach it.",
          "subtasks": [
            "First, add a new 5Gi data volume to 'web-server-staging' named 'temp-disk'.",
            "Shut down the VM.",
            "Remove the 'temp-disk' data volume from the VM definition.",
            "Start the VM and verify the disk is gone."
          ]
        }
      ]
    }
  ]
}