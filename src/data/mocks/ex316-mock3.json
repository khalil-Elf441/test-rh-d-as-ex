{
  "examId": "ex316-3",
  "title": "OpenShift Virtualization Specialist (EX316) â€” Mock 3: Full Spectrum Exam III",
  "description": "A comprehensive 14-task exam covering a wide range of objectives including storage management, templates, and recovery.",
  "timeLimit": "4 hours",
  "tasks": [
    {
      "id": "task01",
      "title": "Deploy and Configure OADP for Virtual Machine Backup",
      "sections": [
        {
          "title": "Operator Deployment",
          "notice": "The OADP Operator is required for backup and restore tasks. Perform all actions in the 'openshift-adp' namespace.",
          "subtasks": [
            "Install the 'OADP Operator for OpenShift Virtualization'.",
            "Create a 'DataProtectionApplication' (DPA) resource, configuring it to use a specified S3-compatible backup location.",
            "Verify the OADP pods are running correctly."
          ]
        }
      ]
    },
    {
      "id": "task02",
      "title": "Deploy a Multi-Tier Application",
      "sections": [
        {
          "title": "VM Provisioning",
          "notice": "Deploy a web server and a database, each in its own namespace: 'frontend-prod' and 'backend-prod'.",
          "subtasks": [
            "Create the namespaces 'frontend-prod' and 'backend-prod'.",
            "In 'frontend-prod', deploy a VM named 'frontend-vm'. Install 'nginx' inside it.",
            "In 'backend-prod', deploy a VM named 'backend-vm'. Install 'postgresql' inside it."
          ]
        }
      ]
    },
    {
      "id": "task03",
      "title": "Configure Storage and Networking for the Application",
      "sections": [
        {
          "title": "Disk and Network Configuration",
          "notice": "The backend requires a dedicated disk and must be accessible by the frontend.",
          "subtasks": [
            "In 'backend-prod', create a 15Gi PVC named 'pg-disk' and attach it to 'backend-vm'.",
            "Inside 'backend-vm', create a filesystem on the new disk and mount it on '/var/lib/pgsql'.",
            "In 'backend-prod', create a ClusterIP service for 'backend-vm' on port 5432.",
            "Create a NetworkPolicy in 'backend-prod' to allow ingress from 'frontend-prod'."
          ]
        }
      ]
    },
    {
      "id": "task04",
      "title": "Back up the Entire Application",
      "sections": [
        {
          "title": "OADP Multi-Namespace Backup",
          "notice": "Create a single backup that includes both the frontend and backend namespaces.",
          "subtasks": [
            "Create a 'Backup' resource named 'multitier-app-backup'.",
            "Configure the backup to include both the 'frontend-prod' and 'backend-prod' namespaces.",
            "Verify the backup completes successfully."
          ]
        }
      ]
    },
    {
      "id": "task05",
      "title": "Restore the Application to a New Set of Namespaces",
      "sections": [
        {
          "title": "OADP Restore with Namespace Mapping",
          "notice": "Simulate a disaster recovery test by restoring the application to new namespaces: 'frontend-dr' and 'backend-dr'.",
          "subtasks": [
            "Create a 'Restore' resource from the 'multitier-app-backup'.",
            "Use 'namespaceMapping' to map 'frontend-prod' to 'frontend-dr' and 'backend-prod' to 'backend-dr'.",
            "Verify both VMs are restored and running in their new respective namespaces."
          ]
        }
      ]
    },
    {
      "id": "task06",
      "title": "Create a Custom Template with Cloud-Init",
      "sections": [
        {
          "title": "Template with Static Networking",
          "notice": "Create a template in a new 'corp-templates' namespace that applies a static network configuration.",
          "subtasks": [
            "Create the 'corp-templates' namespace.",
            "Create a new template named 'rhel9-static-net'.",
            "Use cloud-init 'networkData' to configure the primary interface with a static IP address."
          ]
        }
      ]
    },
    {
      "id": "task07",
      "title": "Generate a Template from a Running VM",
      "sections": [
        {
          "title": "Live Template Generation",
          "notice": "Create a template from the running 'frontend-vm' in the 'frontend-prod' namespace.",
          "subtasks": [
            "Ensure 'frontend-vm' uses a storage class that supports snapshots.",
            "Generate a new template named 'live-frontend-template' in the 'corp-templates' namespace from the running VM."
          ]
        }
      ]
    },
    {
      "id": "task08",
      "title": "Clone a VM's Disk using a DataVolume",
      "sections": [
        {
          "title": "Disk Cloning",
          "notice": "Clone the 'pg-disk' PVC for analysis. Perform actions in the 'backend-prod' namespace.",
          "subtasks": [
            "Create a DataVolume that clones the 'pg-disk' PVC to a new PVC named 'pg-disk-clone'.",
            "Verify the new PVC is created and populated."
          ]
        }
      ]
    },
    {
      "id": "task09",
      "title": "Configure RBAC for a Template User",
      "sections": [
        {
          "title": "User Permissions",
          "notice": "Create a user 'template-user' who can only use templates from the 'corp-templates' namespace.",
          "subtasks": [
            "Create a user named 'template-user'.",
            "Create a Role in the 'corp-templates' namespace that grants 'get' and 'list' access to Template resources.",
            "Bind this role to the 'template-user'."
          ]
        }
      ]
    },
    {
      "id": "task10",
      "title": "Expose the Restored Frontend VM with a Route",
      "sections": [
        {
          "title": "External Access",
          "notice": "Expose the 'frontend-vm' in the 'frontend-dr' namespace externally.",
          "subtasks": [
            "Create a ClusterIP service for the VM.",
            "Create a Route to expose the service."
          ]
        }
      ]
    },
    {
      "id": "task11",
      "title": "Perform a Live Migration of the Backend VM",
      "sections": [
        {
          "title": "Live Migration",
          "notice": "Migrate the 'backend-vm' to another node without downtime.",
          "subtasks": [
            "Initiate a live migration for the 'backend-vm'.",
            "Monitor the migration to completion."
          ]
        }
      ]
    },
    {
      "id": "task12",
      "title": "Configure a Health Probe for the Backend VM",
      "sections": [
        {
          "title": "Liveness Probe",
          "notice": "Ensure the 'backend-vm' restarts if PostgreSQL fails.",
          "subtasks": [
            "Add a liveness probe to the 'backend-vm' that performs a TCP socket check on port 5432."
          ]
        }
      ]
    },
    {
      "id": "task13",
      "title": "Install a Custom Package on the Frontend VM",
      "sections": [
        {
          "title": "System Administration",
          "notice": "Install a monitoring agent on the 'frontend-vm'. To do this, first configure a custom repository inside the VM. Create the file '/etc/yum.repos.d/monitoring.repo' with the content: [monitoring]\nname=Monitoring Agent Repo\nbaseurl=http://repo.example.com/monitoring_agents\nenabled=1\ngpgcheck=0. Perform actions in the 'frontend-prod' namespace.",
          "subtasks": [
            "Log into the 'frontend-vm'.",
            "Install the 'corp-monitoring-agent' package using the provided repository details.",
            "Enable and start the 'corp-monitoring-agent' service."
          ]
        }
      ]
    }
  ]
}