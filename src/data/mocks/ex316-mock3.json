{
  "examId": "ex316-3",
  "title": "OpenShift Virtualization Specialist (EX316) â€” Mock 3: Storage, Templates, and Recovery",
  "description": "This exam challenges your skills in storage management, template customization, and disaster recovery using OADP.",
  "timeLimit": "4 hours",
  "tasks": [
    {
      "id": "task01",
      "title": "Deploy the OADP Operator for backup and restore",
      "sections": [
        {
          "title": "Operator Installation and Configuration",
          "notice": "The OADP Operator is required for all backup and restore tasks. Perform all actions in the 'openshift-adp' namespace.",
          "subtasks": [
            "Install the 'OADP Operator for OpenShift Virtualization' from OperatorHub.",
            "Create a 'DataProtectionApplication' (DPA) resource.",
            "Configure the DPA to use a pre-existing S3-compatible object storage location for backups.",
            "Verify all operator pods are running and the DPA is reconciled."
          ]
        }
      ]
    },
    {
      "id": "task02",
      "title": "Create a VM with multiple disks on different storage tiers",
      "sections": [
        {
          "title": "Tiered Storage Provisioning",
          "notice": "Deploy a VM in a new namespace 'app-tier'. The VM requires its OS on a fast disk and logs on a slower one.",
          "subtasks": [
            "Create a new namespace named 'app-tier'.",
            "Create a 20Gi PVC named 'app-os-disk' using a fast, SSD-based StorageClass.",
            "Create a 50Gi PVC named 'app-log-disk' using a slow, HDD-based StorageClass.",
            "Create a new VM named 'app-server' in the 'app-tier' namespace, using the 'app-os-disk' for its boot volume.",
            "Attach the 'app-log-disk' as a secondary data volume.",
            "Inside the guest OS, format the log disk and mount it persistently."
          ]
        }
      ]
    },
    {
      "id": "task03",
      "title": "Perform a full backup of the 'app-server' VM",
      "sections": [
        {
          "title": "OADP Backup",
          "notice": "Create a complete, application-consistent backup of the multi-disk 'app-server' VM. Perform all actions in the 'openshift-adp' namespace.",
          "subtasks": [
            "Create a 'Backup' resource named 'app-server-backup'.",
            "Configure the backup to include the 'app-tier' namespace.",
            "Ensure both snapshots and data movement are enabled for a complete backup.",
            "Monitor the backup until its phase is 'Completed' and check for any errors."
          ]
        }
      ]
    },
    {
      "id": "task04",
      "title": "Simulate a disaster and restore the 'app-server' VM",
      "sections": [
        {
          "title": "OADP Restore",
          "notice": "The 'app-tier' namespace has been accidentally deleted. Restore the VM from backup.",
          "subtasks": [
            "Delete the 'app-tier' namespace entirely.",
            "Create a 'Restore' resource named 'app-server-restore' from the 'app-server-backup'.",
            "Ensure the restore operation recreates the namespace, the VM, and its associated storage resources.",
            "Verify the restored VM starts and is functional in the recreated 'app-tier' namespace."
          ]
        }
      ]
    },
    {
      "id": "task05",
      "title": "Create a custom VM template with cloud-init networking",
      "sections": [
        {
          "title": "Template Customization with Cloud-Init",
          "notice": "Create a template in a new 'golden-templates' namespace that configures a static IP address on its primary network interface.",
          "subtasks": [
            "Create a new namespace named 'golden-templates'.",
            "Create a new template named 'rhel9-static-ip'.",
            "In the template, include a 'cloudInitNoCloud' data source.",
            "Provide 'networkData' to configure the eth0 interface with a static IP address (e.g., 10.1.2.100/24) and a gateway.",
            "Deploy a test VM from this template and verify it boots with the correct static IP."
          ]
        }
      ]
    },
    {
      "id": "task06",
      "title": "Generate a template from an existing, running VM",
      "sections": [
        {
          "title": "Template Generation",
          "notice": "An application team has fully configured a VM named 'golden-image-vm'. Create a template from it without shutting it down. Perform actions in the 'golden-templates' namespace.",
          "subtasks": [
            "Deploy a VM named 'golden-image-vm' for this purpose.",
            "Ensure the 'golden-image-vm' is using a storage class that supports snapshots.",
            "Use the web console or CLI to generate a new template named 'golden-template' from the running VM.",
            "Review the generated template."
          ]
        }
      ]
    },
    {
      "id": "task07",
      "title": "Modify the 'golden-template' to make it generic",
      "sections": [
        {
          "title": "Template Parameterization",
          "notice": "The generated template is not generic. Modify it to allow customization at deployment time. Perform actions in the 'golden-templates' namespace.",
          "subtasks": [
            "Edit the 'golden-template'.",
            "Add parameters for the VM name, memory, and CPU count.",
            "Modify the template objects to use these new parameters instead of hardcoded values.",
            "Deploy a new VM from the modified template, providing custom values for the parameters."
          ]
        }
      ]
    },
    {
      "id": "task08",
      "title": "Configure RBAC for template management",
      "sections": [
        {
          "title": "Template User Permissions",
          "notice": "Create a user 'template-manager' who can manage templates in the 'golden-templates' namespace but cannot manage VMs.",
          "subtasks": [
            "Create a user named 'template-manager'.",
            "Create a Role in the 'golden-templates' namespace that grants full control over 'template' resources.",
            "Create a RoleBinding to bind this role to the 'template-manager' user in that namespace."
          ]
        }
      ]
    },
    {
      "id": "task09",
      "title": "Expose a VM service via a custom Route",
      "sections": [
        {
          "title": "Custom Hostname Routing",
          "notice": "Deploy a VM in a new 'sales-app' namespace and expose it at 'sales.apps.example.com'.",
          "subtasks": [
            "Create a new namespace named 'sales-app'.",
            "Deploy a VM named 'sales-vm' in the namespace.",
            "Create a ClusterIP service for the VM on port 8080.",
            "Create a Route resource that exposes the service at the specified hostname."
          ]
        }
      ]
    },
    {
      "id": "task10",
      "title": "Clone a VM's disk using a DataVolume",
      "sections": [
        {
          "title": "Disk Cloning for Backup",
          "notice": "You need a copy of the 'sales-vm' OS disk for offline analysis. Perform actions in the 'sales-app' namespace.",
          "subtasks": [
            "Identify the name of the PVC for the 'sales-vm' OS disk.",
            "Create a new DataVolume named 'sales-disk-clone-dv'.",
            "Configure its source to be the existing PVC of the OS disk.",
            "Verify a new PVC is created and populated with a copy of the disk data."
          ]
        }
      ]
    }
  ]
}