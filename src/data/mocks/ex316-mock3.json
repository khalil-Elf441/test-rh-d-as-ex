
{
  "examId": "ex316-3",
  "title": "OpenShift Virtualization Specialist (EX316) â€” Mock 3: Storage, Templates, and Recovery",
  "description": "This exam challenges your skills in storage management, template customization, and disaster recovery using OADP.",
  "timeLimit": "4 hours",
  "tasks": [
    {
      "id": "task01",
      "title": "Deploy the OADP Operator for backup and restore",
      "sections": [
        {
          "title": "Operator Installation and Configuration",
          "notice": "The OADP Operator is required for all backup and restore tasks.",
          "subtasks": [
            "Install the 'OADP Operator for OpenShift Virtualization' from OperatorHub.",
            "Create a 'DataProtectionApplication' (DPA) resource in the 'openshift-adp' namespace.",
            "Configure the DPA to use a pre-existing S3-compatible object storage location for backups.",
            "Verify all operator pods are running and the DPA is reconciled."
          ]
        }
      ]
    },
    {
      "id": "task02",
      "title": "Create a VM with multiple disks on different storage tiers",
      "sections": [
        {
          "title": "Tiered Storage Provisioning",
          "notice": "Deploy a VM named 'app-server' with its OS on a fast storage class and logs on a slower one.",
          "subtasks": [
            "Create a 20Gi PVC named 'app-os-disk' using a fast, SSD-based StorageClass.",
            "Create a 50Gi PVC named 'app-log-disk' using a slow, HDD-based StorageClass.",
            "Create a new VM named 'app-server', using the 'app-os-disk' for its boot volume.",
            "Attach the 'app-log-disk' as a secondary data volume."
          ]
        }
      ]
    },
    {
      "id": "task03",
      "title": "Perform a full backup of the 'app-server' VM",
      "sections": [
        {
          "title": "OADP Backup",
          "notice": "Create a complete, application-consistent backup of the multi-disk 'app-server' VM.",
          "subtasks": [
            "Create a 'Backup' resource named 'app-server-backup'.",
            "Configure the backup to include the namespace containing 'app-server'.",
            "Ensure both snapshots and data movement are enabled for a complete backup.",
            "Monitor the backup until its phase is 'Completed' and check for any errors."
          ]
        }
      ]
    },
    {
      "id": "task04",
      "title": "Simulate a disaster and restore the 'app-server' VM",
      "sections": [
        {
          "title": "OADP Restore",
          "notice": "The 'app-server' VM and its PVCs have been accidentally deleted. Restore them from the backup.",
          "subtasks": [
            "Delete the 'app-server' VM, its DataVolumes, and its PVCs.",
            "Create a 'Restore' resource named 'app-server-restore' from the 'app-server-backup'.",
            "Ensure the restore operation recreates the VM and its associated storage resources.",
            "Verify the restored VM starts and is functional."
          ]
        }
      ]
    },
    {
      "id": "task05",
      "title": "Create a custom VM template with cloud-init networking",
      "sections": [
        {
          "title": "Template Customization with Cloud-Init",
          "notice": "Create a template that configures a static IP address on its primary network interface upon first boot.",
          "subtasks": [
            "Create a new template named 'rhel9-static-ip'.",
            "In the template, include a 'cloudInitNoCloud' data source.",
            "Provide 'networkData' to configure the eth0 interface with a static IP address (e.g., 10.1.2.100/24) and a gateway.",
            "Deploy a test VM from this template and verify it boots with the correct static IP."
          ]
        }
      ]
    },
    {
      "id": "task06",
      "title": "Generate a template from an existing, running VM",
      "sections": [
        {
          "title": "Template Generation",
          "notice": "An application team has fully configured a VM named 'golden-image-vm'. Create a template from it without shutting it down.",
          "subtasks": [
            "Ensure the 'golden-image-vm' is using a storage class that supports snapshots.",
            "Use the web console or CLI to generate a new template named 'golden-template' from the running VM.",
            "Review the generated template and note that it references the source PVCs."
          ]
        }
      ]
    },
    {
      "id": "task07",
      "title": "Modify the 'golden-template' to make it generic",
      "sections": [
        {
          "title": "Template Parameterization",
          "notice": "The generated template is not generic. Modify it to allow customization at deployment time.",
          "subtasks": [
            "Edit the 'golden-template'.",
            "Add parameters for the VM name, memory, and CPU count.",
            "Modify the template objects to use these new parameters instead of hardcoded values.",
            "Deploy a new VM from the modified template, providing custom values for the parameters."
          ]
        }
      ]
    },
    {
      "id": "task08",
      "title": "Connect a VM to external storage using Multus",
      "sections": [
        {
          "title": "External Storage Access",
          "notice": "A VM requires access to an iSCSI LUN on an external storage network.",
          "subtasks": [
            "Create a new NetworkAttachmentDefinition for the storage network.",
            "Create a VM and attach it to this storage network.",
            "Inside the VM, configure an iSCSI initiator to connect to the external LUN."
          ]
        }
      ]
    },
    {
      "id": "task09",
      "title": "Restore a single disk of a VM from a backup",
      "sections": [
        {
          "title": "Granular Restore",
          "notice": "The data disk of 'app-server' has been corrupted. Restore only this disk from the existing backup.",
          "subtasks": [
            "Delete the 'app-log-disk' PVC belonging to the 'app-server' VM.",
            "Create a 'Restore' resource from the 'app-server-backup'.",
            "Configure the restore to only include the 'app-log-disk' PVC.",
            "Verify the PVC is recreated and the VM becomes operational again."
          ]
        }
      ]
    },
    {
      "id": "task10",
      "title": "Use a DataVolume to import a raw image from a web server",
      "sections": [
        {
          "title": "DataVolume Import",
          "notice": "Create a new PVC and populate it with a disk image from a URL.",
          "subtasks": [
            "Create a new DataVolume resource named 'import-dv'.",
            "Configure the source to be an HTTP URL pointing to a valid qcow2 or raw image.",
            "Specify a PVC size and access mode for the destination.",
            "Verify the DataVolume creates a PVC and imports the image successfully."
          ]
        }
      ]
    },
    {
      "id": "task11",
      "title": "Create a VM that uses the imported disk image",
      "sections": [
        {
          "title": "VM from Imported Disk",
          "notice": "Deploy a new VM using the PVC created by the 'import-dv' DataVolume.",
          "subtasks": [
            "Create a new VirtualMachine named 'imported-vm'.",
            "Configure the VM to use the PVC generated from 'import-dv' as its boot disk.",
            "Start the VM and ensure it boots correctly from the imported image."
          ]
        }
      ]
    },
    {
      "id": "task12",
      "title": "Clone a VM's disk using a DataVolume",
      "sections": [
        {
          "title": "Disk Cloning",
          "notice": "You need a copy of the 'app-server' OS disk for offline analysis.",
          "subtasks": [
            "Identify the name of the PVC for the 'app-server' OS disk.",
            "Create a new DataVolume named 'os-clone-dv'.",
            "Configure its source to be the existing PVC of the OS disk.",
            "Verify a new PVC is created and populated with a copy of the disk data."
          ]
        }
      ]
    },
    {
      "id": "task13",
      "title": "Configure a VM to use a block-mode PVC",
      "sections": [
        {
          "title": "Raw Block Storage",
          "notice": "Deploy a high-performance database VM that uses a raw block device instead of a filesystem.",
          "subtasks": [
            "Find a StorageClass that supports 'volumeMode: Block'.",
            "Create a new PVC named 'raw-db-pvc' with the volume mode set to 'Block'.",
            "Deploy a new VM and attach 'raw-db-pvc' as a disk.",
            "Verify inside the guest OS that a raw block device (e.g., /dev/vdb) is present."
          ]
        }
      ]
    },
    {
      "id": "task14",
      "title": "Import an OVA image from a web server",
      "sections": [
        {
          "title": "OVA Import",
          "notice": "A vendor has supplied a pre-packaged application as an OVA file. Import it into the cluster.",
          "subtasks": [
            "Find the URL of a sample OVA file.",
            "Create a VirtualMachine resource.",
            "In the spec, add an annotation 'kubevirt.io/firstBoot' to indicate it needs processing.",
            "Configure the boot disk to import from the OVA URL via a DataVolume."
          ]
        }
      ]
    },
    {
      "id": "task15",
      "title": "Add access credentials to a VM template using cloud-init",
      "sections": [
        {
          "title": "Secure User Creation",
          "notice": "Modify the 'rhel9-static-ip' template to also create a new user with a specific SSH public key.",
          "subtasks": [
            "Edit the 'rhel9-static-ip' template.",
            "In the cloud-init user data, add a 'users' section.",
            "Define a user named 'automation' with sudo privileges.",
            "Add a pre-generated SSH public key to the user's 'ssh_authorized_keys'."
          ]
        }
      ]
    }
  ]
}
